# 使用测试数据的提示词示例

## 📋 测试数据信息

**FASTQ 文件目录：** `/home/ubuntu/GIBH-AGENT-V2/test_data/pbmc_1k_v3_fastqs/`  
**参考基因组：** `/home/ubuntu/GIBH-AGENT-V2/test_data/refdata-gex-GRCh38-2024-A/`

---

## 🎯 提示词示例

### 方式 1: 直接指定路径（推荐）

```
分析单细胞数据：
- FASTQ 目录：/home/ubuntu/GIBH-AGENT-V2/test_data/pbmc_1k_v3_fastqs/
- 参考基因组：/home/ubuntu/GIBH-AGENT-V2/test_data/refdata-gex-GRCh38-2024-A/
- 样本名称：pbmc_1k_v3

请执行完整的分析流程。
```

### 方式 2: 简洁版本

```
从 FASTQ 文件开始分析单细胞数据：
FASTQ: /home/ubuntu/GIBH-AGENT-V2/test_data/pbmc_1k_v3_fastqs/
参考基因组: /home/ubuntu/GIBH-AGENT-V2/test_data/refdata-gex-GRCh38-2024-A/
```

### 方式 3: 自然语言描述

```
我需要分析之前测试用的那组数据：
- pbmc_1k_v3 的 FASTQ 文件
- 使用 GRCh38-2024-A 参考基因组

请帮我运行 Cell Ranger，然后执行完整的单细胞分析流程。
```

### 方式 4: 如果已经转换过，直接使用 .h5ad

```
分析这个数据文件：
/home/ubuntu/GIBH-AGENT-V2/test_data/pbmc_1k_v3_filtered.h5ad

请执行完整的分析流程。
```

---

## 🔍 智能体会自动做什么？

1. **检测文件类型** → 识别为 `fastq` 目录
2. **运行 Cell Ranger count** → 使用指定的参考基因组
3. **转换为 .h5ad** → 自动转换输出
4. **检查数据** → 自动执行 `inspect_file`
5. **推荐参数** → 基于数据规模推荐
6. **执行分析** → 完整的 11 步流程

---

## 💡 提示词技巧

### 指定参数（可选）

```
使用测试数据，参数：
- CPU 核心数：8
- 内存：32GB
- 不创建 BAM 文件
```

### 只执行部分流程

```
使用测试数据，只执行到聚类这一步。
```

### 使用默认配置

```
使用测试数据，按默认配置执行。
```

---

## 📝 完整示例对话

**用户：**
```
分析测试数据：
FASTQ: /home/ubuntu/GIBH-AGENT-V2/test_data/pbmc_1k_v3_fastqs/
参考基因组: /home/ubuntu/GIBH-AGENT-V2/test_data/refdata-gex-GRCh38-2024-A/
```

**Agent：**
```
<think>
用户提供了 FASTQ 文件和参考基因组路径。根据工作流规则，我需要：
1. 先运行 Cell Ranger count
2. 转换输出为 .h5ad
3. 检查数据
4. 推荐参数
5. 执行完整分析流程
</think>

正在运行 Cell Ranger count...
[执行中...]

✅ Cell Ranger 完成！
- 检测到 1,221 个细胞
- 38,606 个基因

数据检查结果：
- 数据规模：中等（1,221 个细胞）
- 数据状态：原始计数（未标准化）

推荐参数：
- QC: min_genes=200, max_mt=10%
- 标准化：目标总和 10000
- 高变基因：2000 个
- 聚类分辨率：0.5

是否按此参数执行完整流程？
```

**用户：**
```
好的，执行完整流程。
```

**Agent：**
```
开始执行完整分析流程...
[执行中...]
✅ 分析完成！
```

